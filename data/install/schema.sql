CREATE TABLE bulk_export (
    id INT AUTO_INCREMENT NOT NULL,
    exporter_id INT DEFAULT NULL,
    job_id INT DEFAULT NULL,
    writer_params LONGTEXT DEFAULT NULL COMMENT '(DC2Type:json_array)',
    processor_params LONGTEXT DEFAULT NULL COMMENT '(DC2Type:json_array)',
    INDEX IDX_BD98E8747FCFE58E (exporter_id),
    UNIQUE INDEX UNIQ_BD98E874BE04EA9 (job_id),
    PRIMARY KEY(id)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci ENGINE = InnoDB;
CREATE TABLE bulk_exporter (
    id INT AUTO_INCREMENT NOT NULL,
    owner_id INT DEFAULT NULL,
    `label` VARCHAR(190) DEFAULT NULL,
    writer_class VARCHAR(190) DEFAULT NULL,
    writer_config LONGTEXT DEFAULT NULL COMMENT '(DC2Type:json_array)',
    processor_class VARCHAR(190) DEFAULT NULL,
    processor_config LONGTEXT DEFAULT NULL COMMENT '(DC2Type:json_array)',
    INDEX IDX_2DAF62D7E3C61F9 (owner_id),
    PRIMARY KEY(id)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci ENGINE = InnoDB;
ALTER TABLE bulk_export ADD CONSTRAINT FK_BD98E8747FCFE58E FOREIGN KEY (exporter_id) REFERENCES bulk_exporter (id);
ALTER TABLE bulk_export ADD CONSTRAINT FK_BD98E874BE04EA9 FOREIGN KEY (job_id) REFERENCES job (id);
ALTER TABLE bulk_exporter ADD CONSTRAINT FK_2DAF62D7E3C61F9 FOREIGN KEY (owner_id) REFERENCES user (id) ON DELETE SET NULL;
